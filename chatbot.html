<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Indian Festival Chatbot + Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    #chatLog {
      max-width: 600px;
      margin: 80px auto 20px;
      padding: 10px;
      background: #f9f9f9;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    #searchContainer {
      position: fixed;
      top: 20px;
      right: 20px;
    }
    #searchInput, #searchButton, #monthFilter {
      padding: 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #searchInput {
      width: 200px;
    }
    #searchButton {
      margin-left: 5px;
      cursor: pointer;
    }
    #monthFilter {
      margin-top: 10px;
      width: 100%;
    }
  </style>
</head>
<body>
  <h1 style="text-align:center;">üéâ Festival Explorer & Quiz</h1>
  <div id="searchContainer">
    <input type="text" id="searchInput" placeholder="Ask about a festival or state...">
    <button id="searchButton">üîç Search</button>
    <select id="monthFilter">
      <option value="">-- Filter by Month --</option>
      <option value="January">January</option>
      <option value="February">February</option>
      <option value="March">March</option>
      <option value="April">April</option>
      <option value="May">May</option>
      <option value="June">June</option>
      <option value="July">July</option>
      <option value="August">August</option>
      <option value="September">September</option>
      <option value="October">October</option>
      <option value="November">November</option>
      <option value="December">December</option>
    </select>
  </div>
  <div id="chatLog"></div>

  <script>
    const localAnswers = {
      pongal: { en: "Tamil Nadu celebrates Pongal, a harvest festival.", hi: "‡§§‡§Æ‡§ø‡§≤‡§®‡§æ‡§°‡•Å ‡§Æ‡•á‡§Ç ‡§™‡•ã‡§Ç‡§ó‡§≤ ‡§Æ‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§", te: "‡∞§‡∞Æ‡∞ø‡∞≥‡∞®‡∞æ‡∞°‡±Å‡∞≤‡±ã ‡∞™‡±ä‡∞Ç‡∞ó‡∞≤‡±ç ‡∞™‡∞Ç‡∞°‡±Å‡∞ó ‡∞ú‡∞∞‡±Å‡∞™‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡∞æ‡∞∞‡±Å." },
      tamilnadu: { en: "Tamil Nadu is famous for Pongal and Onam.", hi: "‡§§‡§Æ‡§ø‡§≤‡§®‡§æ‡§°‡•Å ‡§™‡•ã‡§Ç‡§ó‡§≤ ‡§î‡§∞ ‡§ì‡§£‡§Æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•à‡•§", te: "‡∞§‡∞Æ‡∞ø‡∞≥‡∞®‡∞æ‡∞°‡±Å ‡∞™‡±ä‡∞Ç‡∞ó‡∞≤‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ì‡∞®‡∞Ç ‡∞ï‡±ä‡∞∞‡∞ï‡±Å ‡∞™‡±ç‡∞∞‡∞∏‡∞ø‡∞¶‡±ç‡∞ß‡∞ø ‡∞ö‡±Ü‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞¶‡∞ø." },
      holi: { en: "Delhi celebrates Holi with vibrant colors and fun.", hi: "‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§≤‡•Ä ‡§∞‡§Ç‡§ó‡•ã‡§Ç ‡§î‡§∞ ‡§Æ‡§∏‡•ç‡§§‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Æ‡§®‡§æ‡§à ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§", te: "‡∞¢‡∞ø‡∞≤‡±ç‡∞≤‡±Ä ‡∞π‡±ã‡∞≤‡±Ä‡∞®‡∞ø ‡∞∞‡∞Ç‡∞ó‡±Å‡∞≤‡∞§‡±ã ‡∞ú‡∞∞‡±Å‡∞™‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡∞æ‡∞∞‡±Å." },
      odisha: { en: "Odisha celebrates Rath Yatra in July.", hi: "‡§ì‡§°‡§ø‡§∂‡§æ ‡§Æ‡•á‡§Ç ‡§ú‡•Å‡§≤‡§æ‡§à ‡§Æ‡•á‡§Ç ‡§∞‡§• ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§", te: "‡∞í‡∞°‡∞ø‡∞∂‡∞æ‡∞≤‡±ã ‡∞ú‡±Ç‡∞≤‡±à‡∞≤‡±ã ‡∞∞‡∞• ‡∞Ø‡∞æ‡∞§‡±ç‡∞∞ ‡∞ú‡∞∞‡±Å‡∞™‡±Å‡∞§‡∞æ‡∞∞‡±Å." },
      onam: { en: "Onam is a major festival celebrated in Kerala in August.", hi: "‡§ì‡§£‡§Æ ‡§Ö‡§ó‡§∏‡•ç‡§§ ‡§Æ‡•á‡§Ç ‡§ï‡•á‡§∞‡§≤ ‡§Æ‡•á‡§Ç ‡§Æ‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§", te: "‡∞ì‡∞®‡∞Ç ‡∞Ü‡∞ó‡∞∑‡±ç‡∞ü‡±Å‡∞≤‡±ã ‡∞ï‡±á‡∞∞‡∞≥‡∞≤‡±ã ‡∞ú‡∞∞‡±Å‡∞™‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡∞æ‡∞∞‡±Å." },
      kerala: { en: "Kerala is known for Onam and boat races.", hi: "‡§ï‡•á‡§∞‡§≤ ‡§ì‡§£‡§Æ ‡§î‡§∞ ‡§®‡§æ‡§µ ‡§¶‡•å‡§°‡§º ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§", te: "‡∞ï‡±á‡∞∞‡∞≥ ‡∞ì‡∞®‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞™‡∞°‡∞µ ‡∞™‡∞Ç‡∞¶‡±Ü‡∞Æ‡±ç‡∞Æ‡∞≤ ‡∞ï‡±ã‡∞∏‡∞Ç ‡∞™‡±ç‡∞∞‡∞∏‡∞ø‡∞¶‡±ç‡∞ß‡∞ø ‡∞ö‡±Ü‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞¶‡∞ø." },
      dussehra: { en: "Dussehra is celebrated across India in October to mark the victory of good over evil.", hi: "‡§¶‡§∂‡§π‡§∞‡§æ ‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç ‡§Ö‡§ï‡•ç‡§ü‡•Ç‡§¨‡§∞ ‡§Æ‡•á‡§Ç ‡§Æ‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§", te: "‡∞¶‡∞∏‡∞∞‡∞æ ‡∞Ö‡∞ï‡±ç‡∞ü‡±ã‡∞¨‡∞∞‡±ç‚Äå‡∞≤‡±ã ‡∞≠‡∞æ‡∞∞‡∞§‡∞¶‡±á‡∞∂‡∞Ç‡∞≤‡±ã ‡∞ú‡∞∞‡±Å‡∞™‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡∞æ‡∞∞‡±Å." }
    };

    const festivalMonths = {
      January: ["pongal"],
      March: ["holi"],
      July: ["odisha"],
      August: ["onam", "kerala"],
      October: ["dussehra"]
    };

    const searchInput = document.getElementById("searchInput");
    const searchButton = document.getElementById("searchButton");
    const chatLog = document.getElementById("chatLog");
    const monthFilter = document.getElementById("monthFilter");

    function respondToQuery(query) {
      const lang = navigator.language.startsWith("hi") ? "hi" : navigator.language.startsWith("te") ? "te" : "en";
      const matchedKey = Object.keys(localAnswers).find(key => query.toLowerCase().includes(key));
      if (matchedKey) {
        const reply = localAnswers[matchedKey][lang];
        chatLog.innerHTML += `<div style='margin: 10px 0; padding: 10px; background: #e7f3ff; border-radius: 10px;'>ü§ñ <strong>${matchedKey.toUpperCase()}:</strong> ${reply}</div>`;
        const speak = new SpeechSynthesisUtterance(reply);
        speak.lang = lang === 'hi' ? 'hi-IN' : lang === 'te' ? 'te-IN' : 'en-IN';
        speechSynthesis.speak(speak);
      } else {
        chatLog.innerHTML += `<div style='margin: 10px 0; padding: 10px; background: #fff0f0; border-radius: 10px;'>‚ùå Sorry, I couldn't find information about "${query}".</div>`;
      }
      chatLog.scrollTop = chatLog.scrollHeight;
    }

    function handleMonthFilter(month) {
      chatLog.innerHTML += `<div style='margin: 10px 0; padding: 10px; background: #e0ffe0; border-radius: 10px;'>üìÖ <strong>Festivals in ${month}</strong></div>`;
      const keys = festivalMonths[month] || [];
      keys.forEach(k => respondToQuery(k));
    }

    searchButton.onclick = () => {
      const query = searchInput.value.trim();
      if (query) respondToQuery(query);
      searchInput.value = "";
    };

    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") searchButton.click();
    });

    monthFilter.addEventListener("change", (e) => {
      if (e.target.value) handleMonthFilter(e.target.value);
    });
  </script>
</body>
</html>
